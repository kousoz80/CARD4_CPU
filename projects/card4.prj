<?xml version="1.0" encoding="Shift_JIS" ?>
<!-- なんちゃってXML version 0.1( ObjectEditor専用 ) -->
<xobject>
<ID>project</ID>
<x0>0</x0>
<y0>0</y0>
<width>200</width>
<height>100</height>
<ID_maker>61</ID_maker>
<objectname>card4</objectname>
<description>新規のアプリケーション</description>
<codeclip>
<ID>_CSTART</ID>
<x0>4</x0>
<y0>292</y0>
<width>118</width>
<height>22</height>
<codetext> String[] ARGS;
</codetext>
</codeclip>
<pin>
<ID>_PSTART</ID>
<x0>11</x0>
<y0>19</y0>
<width>55</width>
<height>24</height>
<text>Start()</text>
<px>50</px>
<py>50</py>
</pin>
<operation>
<ID>_O1</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>2</x0>
<y0>52</y0>
<width>100</width>
<height>48</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>28</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>//終了する 


cpu.disconnect();
System.exit(0);
</codetext>
</operation>
<relation>
<ID>_R2</ID>
<pin1name>_A0(_PGUIclosed)</pin1name>
<pin2name>_O1</pin2name>
</relation>
<relation>
<ID>_R3</ID>
<pin1name>_PSTART</pin1name>
<pin2name>_A0(_Pstart)</pin2name>
</relation>
<xobject>
<ID>_X4</ID>
<x0>479</x0>
<y0>140</y0>
<width>117</width>
<height>60</height>
<ID_maker>14</ID_maker>
<objectname>editor</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>57</x0>
<y0>254</y0>
<width>60</width>
<height>30</height>
<text>edit()</text>
<px>6</px>
<py>44</py>
</pin>
<pin>
<ID>_P2</ID>
<x0>24</x0>
<y0>119</y0>
<width>60</width>
<height>30</height>
<text>start()</text>
<px>2</px>
<py>28</py>
</pin>
<relation>
<ID>_R4</ID>
<pin1name>_P2</pin1name>
<pin2name>_A1(_Pstart)</pin2name>
</relation>
<codeclip>
<ID>_C5</ID>
<x0>174</x0>
<y0>43</y0>
<width>134</width>
<height>24</height>
<codetext>JFrame window;
</codetext>
</codeclip>
<operation>
<ID>_O6</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>487</x0>
<y0>46</y0>
<width>170</width>
<height>76</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JFrame f)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>52</inpiny0>
<inpinwidth>89</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>window=f;
window.setVisible(false);
</codetext>
</operation>
<relation>
<ID>_R7</ID>
<pin1name>_A1(_PGUIout)</pin1name>
<pin2name>_O6</pin2name>
</relation>
<operation>
<ID>_O8</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>195</x0>
<y0>231</y0>
<width>177</width>
<height>51</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>window.setVisible(true);
</codetext>
</operation>
<relation>
<ID>_R9</ID>
<pin1name>_P0</pin1name>
<pin2name>_O8</pin2name>
</relation>
<operation>
<ID>_O10</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>497</x0>
<y0>156</y0>
<width>159</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextArea t)</inpintext>
<inpinx0>1</inpinx0>
<inpiny0>30</inpiny0>
<inpinwidth>106</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>source_area = t;
</codetext>
</operation>
<relation>
<ID>_R11</ID>
<pin1name>_A1(_Psource_area)</pin1name>
<pin2name>_O10</pin2name>
</relation>
<aobject>
<ID>_A1</ID>
<x0>100</x0>
<y0>100</y0>
<width>280</width>
<objectname>GUI</objectname>
<description>GUIオブジェクト
</description>
<state>
<ID>_SINIT</ID>
<x0>0</x0>
<y0>40</y0>
<width>70</width>
<height>40</height>
<text>  InitState</text>
<isinitstate>1</isinitstate>
</state>
<pin>
<ID>_Pstart</ID>
<x0>400</x0>
<y0>100</y0>
<width>80</width>
<height>26</height>
<text>Start()</text>
<px>0</px>
<py>36</py>
</pin>
<pin>
<ID>_PGUIout</ID>
<x0>0</x0>
<y0>84</y0>
<width>180</width>
<height>26</height>
<text>GUI_created(JFrame f)</text>
<px>0</px>
<py>54</py>
</pin>
<pin>
<ID>_PGUIclosed</ID>
<x0>310</x0>
<y0>0</y0>
<width>180</width>
<height>26</height>
<text>GUI_closed()</text>
<px>100</px>
<py>6</py>
</pin>
<action>
<ID>_Astart</ID>
<comp1name>_Pstart</comp1name>
<comp2name>_Ocreate</comp2name>
</action>
<operation>
<ID>_Ocreate</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>220</x0>
<y0>40</y0>
<width>130</width>
<height>64</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>30</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>30</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>90</inpinx0>
<inpiny0>43</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// GUIを作成する
XGUI x = new XGUI();

</codetext>
</operation>
<pin>
<ID>_Psource_area</ID>
<x0>0</x0>
<y0>110</y0>
<width>200</width>
<height>26</height>
<text>source_area_created(JTextArea t)</text>
<px>0</px>
<py>72</py>
</pin>
<codeclip>
<ID>_CXSTART</ID>
<x0>0</x0>
<y0>0</y0>
<width>300</width>
<height>26</height>
<codetext> class XGUI extends JFrame implements WindowListener{
 JPanel cnt;
source_area Isource_area;
 class source_area extends JTextArea{
 JScrollPane scrl;
  source_area(){
 setOpaque( true );
 setName(  &quot;source_area&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;&quot; );
 scrl = new JScrollPane( this );
 source_area_created( this );
}
}
 XGUI(){
 setTitle(&quot;asm editor&quot;);
 cnt = new JPanel( new BorderLayout() );
 cnt.setPreferredSize(  new  Dimension( 543, 647 ) );
 ((Component)cnt).setBackground( new Color( 192, 192, 192 ) );
 Isource_area = new source_area();
 cnt.add( Isource_area.scrl, 0 );
 cnt.getLayout().removeLayoutComponent( Isource_area.scrl );
 (  Isource_area.scrl ).setBounds( 3, 7, 535, 639 );
 setContentPane( cnt );
 pack();
 addWindowListener( this );
 setVisible( true );
 GUI_created( this );
}
 public void windowActivated( WindowEvent e ){}
 public void windowClosed( WindowEvent e ){}
 public void windowClosing( WindowEvent e ){ GUI_closed(); }
 public void windowDeactivated( WindowEvent e ){}
 public void windowDeiconified( WindowEvent e ){}
 public void windowIconified( WindowEvent e ){}
 public void windowOpened( WindowEvent e ){}
}
</codetext>
</codeclip>
<ID_maker>21</ID_maker>
<height>94</height>
<レイアウト>asm editor
543
647
192
192
192
TEXTAREA;source_area;null;3;7;535;639;51;51;51;255;255;255;Dialog;12;1;1;1;JTextArea;
</レイアウト>
</aobject>
</xobject>
<xobject>
<ID>_X5</ID>
<x0>5</x0>
<y0>127</y0>
<width>107</width>
<height>50</height>
<ID_maker>25</ID_maker>
<objectname>assembler</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>44</x0>
<y0>247</y0>
<width>92</width>
<height>27</height>
<text>assemble()</text>
<px>10</px>
<py>29</py>
</pin>
<codeclip>
<ID>_C1</ID>
<x0>569</x0>
<y0>299</y0>
<width>201</width>
<height>36</height>
<codetext>// ソースコードから1行入力する
public String get_line(){
  String s;
  int i = source.indexOf( &quot;\n&quot;, line_p+1 );
  if( i == -1 )return null;
  s = source.substring( line_p+1, i );
  line_p = i;
  return s;
}
</codetext>
</codeclip>
<codeclip>
<ID>_C2</ID>
<x0>570</x0>
<y0>345</y0>
<width>189</width>
<height>36</height>
<codetext>// ソースコードを取得する
public void get_source(){
  source = source_area.getText();
  line_p = -1;
}
</codetext>
</codeclip>
<operation>
<ID>_O4</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>228</x0>
<y0>222</y0>
<width>154</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>28</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>106</outpinx0>
<outpiny0>28</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// パス１:ラベルの定義


    String buf;
    message_area.setText(&quot;&quot;);
    labels = new Vector();
    get_source();
    line = 0;
    while( (buf = get_line()) != null ){
      asm_1line( buf, 1 );
      if( label != null ){
        if( serch_label( label ) == NO_LABEL ){
          create_label( label, address );
           }
        else{
          message_area.append(&quot;line &quot;+line+&quot;:ラベルの多重定義\n&quot;);
           }
        }
      }
</codetext>
</operation>
<relation>
<ID>_R5</ID>
<pin1name>_P0</pin1name>
<pin2name>_O4</pin2name>
</relation>
<operation>
<ID>_O6</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>454</x0>
<y0>220</y0>
<width>165</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>30</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// パス２：コードの生成


    String buf;
    int err = 0, ad;
    get_source();
    line = 0;
    while( (buf = get_line()) != null ){
      err = asm_1line( buf, 2 );
      switch(ins_type){
      case NONE:
        if( err != 0 ) message_area.append(&quot;\n*** ERROR! ***\n&quot;);
        message_area.append( hex3(location)+ &quot; &quot; + buf +&quot;\n&quot; );
        if( err != 0 ) message_area.append(&quot;\n&quot;);
        break;

      case NORMAL:
        ad = location - word_length;
        mem_r[0] = ins[0];
        mem_a[0] = ins[1];
        mem_c[0] = ins[2];
        mem_d[0] = ins[3];
        message_area.append( hex3(ad)+&quot;:&quot;+hex3(mem_r[0])+&quot; &quot;+hex3(mem_a[0])+&quot; &quot;+hex2(mem_c[0])+&quot; &quot;+Integer.toHexString(mem_d[0]) + &quot; &quot; + buf +&quot;\n&quot; );
        if( cpu.write_mem(ad) != 0 ) message_area.append(&quot;通信エラー\n&quot;);

try{ Thread.sleep(100);} catch( Exception e ){}

        break;

      case ORG:
        message_area.append( hex3(location)+ &quot; &quot; + buf +&quot;\n&quot; );
        if( err != 0 ) message_area.append(&quot;ERROR!\n&quot;);
        break;

      case EQU:
        message_area.append( hex3(address)+ &quot; &quot; + buf +&quot;\n&quot; );
        if( err != 0 ) message_area.append(&quot;ERROR!\n&quot;);
        break;

      case ALIGN16:
        message_area.append( hex3(location)+ &quot; &quot; + buf +&quot;\n&quot; );
        if( err != 0 ) message_area.append(&quot;ERROR!\n&quot;);
        break;

      case ALIGN256:
        message_area.append( hex3(location)+ &quot; &quot; + buf +&quot;\n&quot; );
        if( err != 0 ) message_area.append(&quot;ERROR!\n&quot;);
        break;

        }

      }
</codetext>
</operation>
<relation>
<ID>_R7</ID>
<pin1name>_O4</pin1name>
<pin2name>_O6</pin2name>
</relation>
<codeclip>
<ID>_C9</ID>
<x0>110</x0>
<y0>60</y0>
<width>506</width>
<height>36</height>
<codetext>/* ビット列をコピーする */
public void bit_copy( int[] opr, int index, int[] ins, int bit_width, int bit_pos ){
  int i, x, y, u, v;
  int src_bit_pos = index * 32;
  int dst_bit_pos = bit_pos;

  if( bit_width &lt;= 0 ) return;
  for( i = 0; i &lt; bit_width; i++ ){
    x = src_bit_pos / 32;
    y = 1 &lt;&lt; ( src_bit_pos % 32 );
    u = dst_bit_pos / 32;
    v = 1 &lt;&lt; ( dst_bit_pos % 32 );
    if( (opr[x] &amp; y) != 0 ) ins[u] = ins[u]^v;
    src_bit_pos++;
    dst_bit_pos++;
  }
}

</codetext>
</codeclip>
<codeclip>
<ID>_C10</ID>
<x0>107</x0>
<y0>102</y0>
<width>323</width>
<height>36</height>
<codetext>/* 新しいラベルを生成する */
public void create_label( String name, int value ){
//System.out.println(&quot;create_label(&quot;+name+&quot;,&quot;+value+&quot;)&quot;);
  labels.add( new xLabel( name, value ) );
}
</codetext>
</codeclip>
<codeclip>
<ID>_C11</ID>
<x0>113</x0>
<y0>145</y0>
<width>253</width>
<height>39</height>
<codetext>/* ラベルの検索 */
public int serch_label( String name ){
  xLabel l;
//System.out.println(&quot;serch_label()&quot;);
  for( int i = 0;i &lt; labels.size(); i++ ){
    l = (xLabel)(labels.get(i));
//System.out.println(i+&quot;:&quot;+l.name);
    if( l.name.equals(name) ) return l.value;
    }
//System.out.println(&quot;label not found&quot;);
  return NO_LABEL;
}


</codetext>
</codeclip>
<codeclip>
<ID>_C13</ID>
<x0>75</x0>
<y0>303</y0>
<width>224</width>
<height>35</height>
<codetext>/* データの読み込み位置を設定する */
public void restore(){
  read_p = 0;
}


</codetext>
</codeclip>
<codeclip>
<ID>_C14</ID>
<x0>392</x0>
<y0>299</y0>
<width>164</width>
<height>38</height>
<codetext>/* データを読み込む */
public String read(){
  return ins_data[read_p++];
}
</codetext>
</codeclip>
<codeclip>
<ID>_C15</ID>
<x0>74</x0>
<y0>345</y0>
<width>267</width>
<height>35</height>
<codetext>/* 基数にしたがって文字列を整数に変換する */
public int xatoi( String str, int radix ){
  int a = 0, i = 0;

  while( i &lt; str.length() ){
    switch( str.charAt(i) ){
      case &apos;0&apos;:           a = radix * a + 0;  break;
      case &apos;1&apos;:           a = radix * a + 1;  break;
      case &apos;2&apos;:           a = radix * a + 2;  break;
      case &apos;3&apos;:           a = radix * a + 3;  break;
      case &apos;4&apos;:           a = radix * a + 4;  break;
      case &apos;5&apos;:           a = radix * a + 5;  break;
      case &apos;6&apos;:           a = radix * a + 6;  break;
      case &apos;7&apos;:           a = radix * a + 7;  break;
      case &apos;8&apos;:           a = radix * a + 8;  break;
      case &apos;9&apos;:           a = radix * a + 9;  break;
      case &apos;a&apos;: case &apos;A&apos;: a = radix * a + 10; break;
      case &apos;b&apos;: case &apos;B&apos;: a = radix * a + 11; break;
      case &apos;c&apos;: case &apos;C&apos;: a = radix * a + 12; break;
      case &apos;d&apos;: case &apos;D&apos;: a = radix * a + 13; break;
      case &apos;e&apos;: case &apos;E&apos;: a = radix * a + 14; break;
      case &apos;f&apos;: case &apos;F&apos;: a = radix * a + 15; break;
    }
   i++;
  }
  return a;
}

</codetext>
</codeclip>
<codeclip>
<ID>_C17</ID>
<x0>87</x0>
<y0>394</y0>
<width>364</width>
<height>249</height>
<codetext>// 変数
 static final int NEXT_INS = 0x7fffffff;
 static final int NO_LABEL = 0x7fffffff;
 static final int NONE   = -1;
 static final int NORMAL   = 0;
 static final int ORG      = 1;
 static final int EQU      = 2;
 static final int ALIGN16  = 3;
 static final int ALIGN256 = 4;

  int[] ins = new int[16];
  int  line = 0, ins_type = 0, word_length = 0; 
  int address =0, location = 0;
  String source = null, label = null;
  int line_p, read_p;
</codetext>
</codeclip>
<codeclip>
<ID>_C19</ID>
<x0>387</x0>
<y0>347</y0>
<width>164</width>
<height>38</height>
<codetext>/* データを読み込む */
public int read_int(){
  return Integer.parseInt(read());
}
</codetext>
</codeclip>
<codeclip>
<ID>_C20</ID>
<x0>508</x0>
<y0>437</y0>
<width>260</width>
<height>184</height>
<codetext>// ラベル
Vector labels;
class xLabel{
  String name;
  int value;

  xLabel( String n, int v ){
    name = n;
    value = v;
  }
}
</codetext>
</codeclip>
<codeclip>
<ID>_C21</ID>
<x0>630</x0>
<y0>197</y0>
<width>157</width>
<height>35</height>
<codetext>// 命令定義データ
String[] ins_data = {
 &quot;org \\&quot;, &quot;1&quot;, &quot;0&quot;, &quot;-1&quot;, &quot;END&quot;,
 &quot;equ \\&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;, &quot;END&quot;,
 &quot;= \\&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;, &quot;END&quot;,
 &quot;align16&quot;, &quot;3&quot;, &quot;0&quot;, &quot;-1&quot;,&quot;END&quot;,
 &quot;align256&quot;, &quot;4&quot;, &quot;0&quot;, &quot;-1&quot;,&quot;END&quot;,
 &quot;read \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;40&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;read@&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;104&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;write \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;56&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;write@&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;120&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;set.h&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;12&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;set.m&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;10&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;set.l&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;9&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;jmp \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;8&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;12&quot;,&quot;32&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;jmp@&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;72&quot;, &quot;0&quot;, &quot;12&quot;,&quot;0&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;data \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;24&quot;, &quot;0&quot;, &quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;4&quot;,&quot;96&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;data.h \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;4&quot;, &quot;0&quot;, &quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;4&quot;,&quot;96&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;data.m \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;2&quot;, &quot;0&quot;, &quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;4&quot;,&quot;96&quot;,&quot;-1&quot;,&quot;END&quot;,
 &quot;data.l \\&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;32&quot;,&quot;4&quot;,&quot;96&quot;,&quot;-1&quot;,&quot;END&quot;,
};
</codetext>
</codeclip>
<codeclip>
<ID>_C22</ID>
<x0>631</x0>
<y0>242</y0>
<width>151</width>
<height>35</height>
<codetext>// 次の命令に移る
public void next_ins(){
//System.out.println(&quot;next_ins()&quot;);
  while( !(read().equals(&quot;END&quot;)) ) ;
}
</codetext>
</codeclip>
<codeclip>
<ID>_C23</ID>
<x0>534</x0>
<y0>10</y0>
<width>163</width>
<height>40</height>
<codetext>// デバッグ用変数
boolean debug=false;
</codetext>
</codeclip>
<codeclip>
<ID>_C24</ID>
<x0>107</x0>
<y0>23</y0>
<width>300</width>
<height>34</height>
<codetext>/* １行アセンブル */
public int asm_1line( String xbuf, int pass ){

  line++;
  ins_type = NONE;
  address = location;
  word_length = 0;
  label = null;

  String buf = xbuf, ref, statement, arg, term;
  int operand[] = new int[8];
  int state = 0, ref_pos, st_pos, value, operand_p, term_val, bit_width, bit_pos, i;
  char op, op2=&apos;\0&apos;;

if( debug) System.out.println(&quot;line&quot;+line+&quot;:&quot;+xbuf);

  if(  buf.length()&lt;=0 ) return 0; // 空の場合は戻る

  /* コメントをすてる */
  if( ( i = buf.indexOf(&quot;//&quot;)) &gt;= 0 ) buf = buf.substring( 0,i );
  if( ( i = buf.indexOf(&quot;/*&quot;)) &gt;= 0 ) buf = buf.substring( 0,i );

  if(  buf.length()&lt;=0 ) return 0; // 空の場合は戻る

  /* 末尾の不要なスペースをすてる */
  for( i = buf.length() - 1; i &gt;= 0 &amp;&amp; buf.charAt(i) == &apos; &apos;; i-- ) ;
  buf= buf.substring(0, i+1);

  if(  buf.length()&lt;=0 ) return 0; // 空の場合は戻る

  /* ラベルがあれば格納する */
  if( buf.charAt(0) != &apos; &apos; ){
    for( i = 0; i &lt; buf.length() &amp;&amp; buf.charAt(i) != &apos; &apos; &amp;&amp; buf.charAt(i) != &apos;:&apos;; i++) ;
    label = buf.substring(0,i);
    buf = buf.substring(i);
  }

  /* ステートメントを格納する */
  if(  buf.length()&lt;=0 ) return 0; // 空の場合は戻る
  for( i = 0; i &lt; buf.length() &amp;&amp; (buf.charAt(i) == &apos; &apos; || buf.charAt(i) == &apos;:&apos;); i++) ;
  if( i &gt;= buf.length() ) return 0; // 空の場合は戻る
  statement = buf.substring(i);

  /* 命令定義データをよみこむ */
  restore();
  while( read_p &lt; ins_data.length ){
    state = 0;
    ref = read();
    ins_type = read_int();
    word_length = read_int();
if(debug) System.out.println(&quot;ref=&quot;+ref);
if(debug)System.out.println(&quot;ins_type=&quot;+ins_type);
if(debug)System.out.println(&quot;word_length=&quot;+word_length);

    /* 命令コードのよみこみ */
    for( i = 0; i &lt; word_length * 4; i++ ) ins[ i ] = read_int();

    /* オペランドのクリア */
    for( i = 0; i &lt; 8; i++ ) operand[ i ] = 0;
    operand[0] = location + word_length;
    operand[1] = location + word_length;
    operand_p = 2;

    /* 文字パターンの比較 */
    ref_pos = 0;
    st_pos = 0;
    while( ref_pos&lt; ref.length() ){

      /* スペースのとき */
      if( ref.charAt(ref_pos) == &apos; &apos; ){
if(debug) System.out.println(&quot;case spase&quot;);
        ref_pos++;
        if( statement.charAt(st_pos) != &apos; &apos; ) { state = NEXT_INS; break;}
        while( st_pos &lt; statement.length() &amp;&amp; statement.charAt(st_pos) == &apos; &apos; ){ st_pos++;}
        if( st_pos &gt;= statement.length() &amp;&amp; ref_pos &lt; ref.length() ) { state = NEXT_INS; break;}
	  }

      /* \ : 引数のとき */
      else if( ref.charAt(ref_pos) == &apos;\\&apos; ){
if(debug) System.out.println(&quot;case argument&quot;);
        ref_pos++;

        /* 引数を格納する */
        if( ref_pos &gt;= ref.length() ){ arg = statement.substring(st_pos); st_pos = statement.length();}
        else{
          arg = &quot;&quot;;
          while( st_pos &lt; statement.length() &amp;&amp; statement.charAt(st_pos) != ref.charAt(ref_pos) ){
            arg = arg + statement.charAt(st_pos++);
          }
          if( st_pos &gt;= statement.length() &amp;&amp; ref_pos &lt; ref.length() ) { state = NEXT_INS; break;}
        }

if(debug) System.out.println(&quot;argument=&quot;+arg);

        /* 引数を評価する */
        if( arg.length() == 0 ) { state = NEXT_INS; break;}

        /* 通常の数式として評価 */
        else{
          op   = &apos;+&apos;;
          value = 0;
          while( op != &apos;\0&apos; ){

            /* &apos;+&apos;, &apos;-&apos;, &apos;.&apos;演算子を探す */
            for( i = 0; i &lt; arg.length() &amp;&amp; ( op2 = arg.charAt(i) ) != &apos;+&apos; &amp;&amp; op2 != &apos;-&apos; &amp;&amp; op2 != &apos;.&apos;; i++ ) ;
            if( i &gt;= arg.length()) op2 = &apos;\0&apos;;
            if( op2== &apos;.&apos; ){
              if( i+1 &gt;= arg.length() ){ state = NEXT_INS; break; }
              if( arg.charAt(i+1) == &apos;h&apos; ) op2 = &apos;h&apos;;
              if( arg.charAt(i+1) == &apos;m&apos; ) op2 = &apos;m&apos;;
              if( arg.charAt(i+1) == &apos;l&apos; ) op2 = &apos;l&apos;;
                 } 
            term_val = 0;
		 term = arg.substring(0,i);
            if( op2 == &apos;h&apos; || op2 == &apos;m&apos; || op2 == &apos;l&apos; ) i++;
		 if( i+1 &gt;= arg.length() ) arg = &quot;&quot;; else  arg = arg.substring(i+1);

if(debug) System.out.println(&quot;term=&quot;+term);

            if( term.length() == 0){ 
              if( op2 == &apos;\0&apos; &amp;&amp;( op == &apos;+&apos; || op == &apos;-&apos; ) ){ // 最後が&apos;+&apos;か&apos;-&apos;で終わるようならエラー
                state = NEXT_INS;
                break;
                    }
                 }
            else{
              switch( term.charAt(0) ){

              /* 先頭に&apos;0&apos; があるとき */
              case &apos;0&apos;:
                if( term.length() == 1 ) term_val =0;
                else{
                  switch( term.charAt(1) ){
                  case &apos;b&apos;: case &apos;B&apos;:
                    term_val = xatoi( term.substring(2), 2 );
                    break;
                  case &apos;0&apos;: case &apos;1&apos;: case &apos;2&apos;: case &apos;3&apos;: case &apos;4&apos;: case &apos;5&apos;: case &apos;6&apos;: case &apos;7&apos;: case &apos;8&apos;: case &apos;9&apos;:
                    term_val = xatoi( term.substring(1), 8 );
                    break;
                  case &apos;x&apos;: case &apos;X&apos;:

if(debug) System.out.println(&quot;case hex-decimal&quot;);

                    term_val = xatoi( term.substring(2), 16 );
                    break;
                  default:
                    term_val = 0;
                    break;
                  }
                }
                break;

              /* &apos;1&apos;から&apos;9&apos;のときは10進数とみなす */
              case &apos;1&apos;: case &apos;2&apos;: case &apos;3&apos;: case &apos;4&apos;: case &apos;5&apos;: case &apos;6&apos;: case &apos;7&apos;: case &apos;8&apos;: case &apos;9&apos;:
                term_val = xatoi( term, 10 );
                break;

              /* それ以外の文字が出てきたら現在のロケーションかラベルとみなす */
              default:
                if( term.equals(&quot;$&quot;)) term_val = location;
                else if( (term_val = serch_label( term )) == NO_LABEL &amp;&amp; pass == 2 ) { state = NEXT_INS; break;}
                break;
              }
              if( state == NEXT_INS ) break;
            }

            /* 演算処理 */
            switch( op ){
            case &apos;+&apos;: value += term_val; break;
            case &apos;-&apos;: value -= term_val; break;
            case &apos;h&apos;: value = (value&gt;&gt;8) &amp; 0x0f; break;
            case &apos;m&apos;: value = (value&gt;&gt;4) &amp; 0x0f; break;
            case &apos;l&apos;: value = value &amp; 0x0f; break;
            }
            op = op2;
          }
          if( state == NEXT_INS ) break;
        }

        /* 評価した引数の値をビット列に変換する */
        operand[operand_p++] = value;
      }

      /* その他の文字のとき */
      else{

        if( ( ref_pos &gt;= ref.length() ) != ( st_pos &gt;= statement.length() ) || ref.charAt(ref_pos++) != statement.charAt(st_pos++) ) { state = NEXT_INS; break;}
      }

    }
    if( state == NEXT_INS ){

if(debug) System.out.println(&quot;next_ins1&quot;);

     next_ins();
     continue;
      }

    /* 正常終了 */
    if( st_pos &gt;= statement.length() ){

      /* 命令コードの生成 */
      for( i = 0; ( bit_width = read_int() ) &gt;= 0; i++ ){
        bit_pos = read_int();

if(debug) System.out.println(&quot;bit_width=&quot;+bit_width+&quot;,bit_pos=&quot;+bit_pos);

        bit_copy( operand, i, ins, bit_width, bit_pos );
      }

      switch( ins_type ){

      case NORMAL:
        location += word_length;
        break;

      case ORG:
        location = operand[2];
        break;

      case EQU:
        address = operand[2];
        break;

      case ALIGN16:
        if( location % 16 &gt; 0 ) location = (location / 16) * 16 + 16;
        break;

      case ALIGN256:
        if( location % 256 &gt; 0 ) location = (location / 256) *256  + 256;
        break;

      }        
      return 0;
    }

if(debug) System.out.println(&quot;statement=&quot;+statement);
if(debug) System.out.println(&quot;st_pos=&quot;+st_pos);
if(debug) System.out.println(&quot;字余り&quot;);
if(debug) System.out.println(&quot;next_ins2&quot;);
    next_ins();
    state = 0;
  }

  /* エラー終了 */
  word_length = 0;
  ins_type = NONE;
  return 1;
}
</codetext>
</codeclip>
</xobject>
<xobject>
<ID>_X6</ID>
<x0>484</x0>
<y0>40</y0>
<width>127</width>
<height>74</height>
<ID_maker>30</ID_maker>
<objectname>execute_cpu</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>5</x0>
<y0>222</y0>
<width>73</width>
<height>27</height>
<text>run_stop()</text>
<px>11</px>
<py>30</py>
</pin>
<pin>
<ID>_P1</ID>
<x0>321</x0>
<y0>92</y0>
<width>85</width>
<height>28</height>
<text>single_step()</text>
<px>10</px>
<py>46</py>
</pin>
<operation>
<ID>_O8</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>110</x0>
<y0>207</y0>
<width>164</width>
<height>46</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>38</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>115</outpinx0>
<outpiny0>26</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>//実行モードを切り替える


run_mode = 1- run_mode;
if( run_mode == 0 ) run_button.setText(&quot;run&quot;); else run_button.setText(&quot;stop&quot;);
interval = Integer.parseInt( interval_field.getText() );
</codetext>
</operation>
<relation>
<ID>_R9</ID>
<pin1name>_P0</pin1name>
<pin2name>_O8</pin2name>
</relation>
<operation>
<ID>_O13</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>118</x0>
<y0>96</y0>
<width>161</width>
<height>67</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>108</inpinx0>
<inpiny0>42</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>2</inpinlinkcount>
<description></description>
<codetext>//シングルステップ実行
exec_one_cycle();
</codetext>
</operation>
<relation>
<ID>_R14</ID>
<pin1name>_P1</pin1name>
<pin2name>_O13</pin2name>
</relation>
<codeclip>
<ID>_C21</ID>
<x0>125</x0>
<y0>8</y0>
<width>198</width>
<height>33</height>
<codetext>// 1サイクル実行
public void exec_one_cycle(){
int f;
clock = Integer.parseInt( clock_field.getText() );
address = Integer.parseInt( start_field.getText(), 16 );
f = cpu.execute(address);


// メモリウィンドウ表示処理
message_area.setText(&quot;&quot;);
if( f!= 0) message_area.append(&quot;通信エラー\n&quot;);
for( int i = 0; i &lt; 8; i++ ){
     message_area.append( hex3(address+i)+&quot;:&quot;+hex2(mem_c[i])+&quot; &quot;+hex3(mem_a[i])+&quot; &quot;+hex3(mem_r[i])+&quot; &quot;+hex1(mem_d[i])+&quot;\n&quot; );
}



// クロック表示処理
clock++;
clock_field.setText(&quot;&quot;+clock);
}
</codetext>
</codeclip>
<aobject>
<ID>_A24</ID>
<x0>329</x0>
<y0>153</y0>
<width>147</width>
<height>85</height>
<ID_maker>11</ID_maker>
<objectname>Interval_Timer</objectname>
<description>新しいオブジェクト</description>
<state>
<ID>_SINIT</ID>
<x0>188</x0>
<y0>270</y0>
<width>70</width>
<height>40</height>
<text>  初期状態</text>
<isinitstate>1</isinitstate>
</state>
<pin>
<ID>_P0</ID>
<x0>200</x0>
<y0>364</y0>
<width>99</width>
<height>25</height>
<text>play_pause()</text>
<px>1</px>
<py>61</py>
</pin>
<pin>
<ID>_P2</ID>
<x0>476</x0>
<y0>155</y0>
<width>60</width>
<height>30</height>
<text>Action()</text>
<px>0</px>
<py>41</py>
</pin>
<codeclip>
<ID>_C3</ID>
<x0>200</x0>
<y0>5</y0>
<width>272</width>
<height>198</height>
<codetext>XTimer  timer;
class XTimer implements ActionListener{
  javax.swing.Timer unit;
 
  XTimer( int del ){
   unit = new javax.swing.Timer( del, this );
  }

  public void actionPerformed( ActionEvent e){
    Action();
  }

}
</codetext>
</codeclip>
<operation>
<ID>_O7</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>321</x0>
<y0>255</y0>
<width>171</width>
<height>53</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>30</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>30</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>3</inpinx0>
<inpiny0>31</inpiny0>
<inpinwidth>45</inpinwidth>
<inpinheight>21</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// タイマーの起動・停止


if( run_mode != 0 ){
 timer = new XTimer( interval );
 timer.unit.start();
}
 else timer.unit.stop();
</codetext>
</operation>
<action>
<ID>_A9</ID>
<comp1name>_P0</comp1name>
<comp2name>_O7</comp2name>
</action>
</aobject>
<relation>
<ID>_R25</ID>
<pin1name>_O8</pin1name>
<pin2name>_A24(_P0)</pin2name>
</relation>
<relation>
<ID>_R26</ID>
<pin1name>_A24(_P2)</pin1name>
<pin2name>_O13</pin2name>
</relation>
</xobject>
<xobject>
<ID>_X8</ID>
<x0>10</x0>
<y0>183</y0>
<width>90</width>
<height>62</height>
<ID_maker>16</ID_maker>
<objectname>file_io</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>98</x0>
<y0>155</y0>
<width>60</width>
<height>30</height>
<text>load()</text>
<px>42</px>
<py>29</py>
</pin>
<pin>
<ID>_P1</ID>
<x0>100</x0>
<y0>100</y0>
<width>60</width>
<height>30</height>
<text>save()</text>
<px>43</px>
<py>45</py>
</pin>
<aobject>
<ID>_A5</ID>
<x0>243</x0>
<y0>52</y0>
<width>329</width>
<height>58</height>
<ID_maker>10</ID_maker>
<objectname>SaveFileSelector</objectname>
<description></description>
<action>
<ID>_AX9</ID>
<comp1name>_PX1</comp1name>
<comp2name>_OX8</comp2name>
</action>
<state>
<ID>_SINIT</ID>
<x0>138</x0>
<y0>82</y0>
<width>70</width>
<height>40</height>
<text> InitialState</text>
<isinitstate>1</isinitstate>
</state>
<pin>
<ID>_PX1</ID>
<x0>395</x0>
<y0>215</y0>
<width>60</width>
<height>30</height>
<text>request()</text>
<px>15</px>
<py>35</py>
</pin>
<pin>
<ID>_PX3</ID>
<x0>390</x0>
<y0>104</y0>
<width>62</width>
<height>28</height>
<text>cansel()</text>
<px>206</px>
<py>0</py>
</pin>
<pin>
<ID>_PX5</ID>
<x0>389</x0>
<y0>142</y0>
<width>152</width>
<height>23</height>
<text>selected(String fileName)</text>
<px>105</px>
<py>34</py>
</pin>
<operation>
<ID>_OX8</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>255</x0>
<y0>122</y0>
<width>119</width>
<height>64</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>0</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>0</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>80</inpinx0>
<inpiny0>44</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// ファイル選択
// ダイアログを開く
JFileChooser chooser = new JFileChooser();
chooser.setDialogTitle( &quot;保存するファイルを選択&quot; );
chooser.setFileSelectionMode( JFileChooser.FILES_AND_DIRECTORIES );
if( chooser.showSaveDialog(null) == JFileChooser.APPROVE_OPTION ){
    selected( chooser.getSelectedFile().getPath() );
}
else cansel();
</codetext>
</operation>
</aobject>
<aobject>
<ID>_A6</ID>
<x0>237</x0>
<y0>134</y0>
<width>335</width>
<height>58</height>
<ID_maker>10</ID_maker>
<objectname>LoadFileSelector</objectname>
<description></description>
<action>
<ID>_AX9</ID>
<comp1name>_PX1</comp1name>
<comp2name>_OX8</comp2name>
</action>
<state>
<ID>_SINIT</ID>
<x0>138</x0>
<y0>82</y0>
<width>70</width>
<height>40</height>
<text> InitialState</text>
<isinitstate>1</isinitstate>
</state>
<pin>
<ID>_PX1</ID>
<x0>395</x0>
<y0>215</y0>
<width>60</width>
<height>30</height>
<text>request()</text>
<px>23</px>
<py>33</py>
</pin>
<pin>
<ID>_PX3</ID>
<x0>390</x0>
<y0>104</y0>
<width>62</width>
<height>28</height>
<text>cansel()</text>
<px>206</px>
<py>0</py>
</pin>
<pin>
<ID>_PX5</ID>
<x0>389</x0>
<y0>142</y0>
<width>152</width>
<height>23</height>
<text>selected(String fileName)</text>
<px>105</px>
<py>34</py>
</pin>
<operation>
<ID>_OX8</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>255</x0>
<y0>122</y0>
<width>119</width>
<height>64</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>0</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>0</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>80</inpinx0>
<inpiny0>44</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// ファイル選択
// ダイアログを開く
JFileChooser chooser = new JFileChooser();
chooser.setDialogTitle( &quot;読み込むファイルを選択&quot; );
chooser.setFileSelectionMode( JFileChooser.FILES_AND_DIRECTORIES );
if( chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION ){
    selected( chooser.getSelectedFile().getPath() );
}
else cansel();
</codetext>
</operation>
</aobject>
<relation>
<ID>_R7</ID>
<pin1name>_P1</pin1name>
<pin2name>_A5(_PX1)</pin2name>
</relation>
<relation>
<ID>_R8</ID>
<pin1name>_P0</pin1name>
<pin2name>_A6(_PX1)</pin2name>
</relation>
<operation>
<ID>_O9</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>644</x0>
<y0>31</y0>
<width>189</width>
<height>61</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(String fname)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>39</inpiny0>
<inpinwidth>105</inpinwidth>
<inpinheight>21</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// ファイルに保存する



try{


int n;

BufferedWriter dout = new BufferedWriter( new FileWriter( fname ) );
dout.write( r_field.getText()+&quot;\n&quot; );
dout.write( a_field.getText()+&quot;\n&quot; );
dout.write( c_field.getText()+&quot;\n&quot; );
dout.write( d_field.getText()+&quot;\n&quot; );
dout.write( address_field.getText()+&quot;\n&quot; );
for( int i = 0; i &lt; 4096; i++){
  dout.write( &quot;0\n0\n0\n0\n&quot; );
}
dout.write( clock_field.getText()+&quot;\n&quot; );
dout.write( interval_field.getText()+&quot;\n&quot; );
dout.write( &quot;1\n&quot; + start_field.getText() + &quot;\n&quot; + start_field.getText() + &quot;\n&quot; );
dout.write( source_area.getText() );
dout.close();


} catch( IOException ie ){ System.out.println(&quot;save error&quot;); }


</codetext>
</operation>
<relation>
<ID>_R10</ID>
<pin1name>_A5(_PX5)</pin1name>
<pin2name>_O9</pin2name>
</relation>
<operation>
<ID>_O11</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>645</x0>
<y0>143</y0>
<width>189</width>
<height>61</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(String fname)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>39</inpiny0>
<inpinwidth>105</inpinwidth>
<inpinheight>21</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// ファイルから読み込む

String line;
int n, s, e;
try{

BufferedReader din = new BufferedReader( new FileReader( fname ) );

reg_r = Integer.parseInt( din.readLine(), 16 ); r_field.setText(hex3(reg_r));
reg_a = Integer.parseInt( din.readLine(), 16 ); a_field.setText(hex3(reg_a));
reg_c = Integer.parseInt( din.readLine(), 16 ); c_field.setText(hex2(reg_c));
reg_d = Integer.parseInt( din.readLine(), 16 ); d_field.setText(Integer.toHexString(reg_d));
if( (reg_c &amp; POINTER) != 0 ) pointer_label.setBackground(Color.green); else  pointer_label.setBackground(Color.lightGray);
if( (reg_c &amp; RET)     != 0 ) ret_label.setBackground(Color.green);     else  ret_label.setBackground(Color.lightGray);
if( (reg_c &amp; ST)      != 0 ) st_label.setBackground(Color.green);      else  st_label.setBackground(Color.lightGray);
if( (reg_c &amp; LD)      != 0 ) ld_label.setBackground(Color.green);      else  ld_label.setBackground(Color.lightGray);
if( (reg_c &amp; LDH)     != 0 ) ldh_label.setBackground(Color.green);     else  ldh_label.setBackground(Color.lightGray);
if( (reg_c &amp; LDM)     != 0 ) ldm_label.setBackground(Color.green);     else  ldm_label.setBackground(Color.lightGray);
if( (reg_c &amp; LDL)     != 0 ) ldl_label.setBackground(Color.green);     else  ldl_label.setBackground(Color.lightGray);

address = Integer.parseInt( din.readLine(), 16 ); address_field.setText(hex3(address));
for( int i = 0; i &lt; 4096; i++){
  din.readLine();
  din.readLine();
  din.readLine();
  din.readLine();
}
clock = Integer.parseInt( din.readLine() ); clock_field.setText(&quot;&quot;+clock);
interval = Integer.parseInt( din.readLine() ); interval_field.setText(&quot;&quot;+interval);
n = Integer.parseInt( din.readLine() );
for( int i = 0; i &lt; n; i++ ){
  start_field.setText( din.readLine() );
  din.readLine();
}
source_area.setText(&quot;&quot;);
while( (line=din.readLine()) != null ){
  source_area.append( line + &quot;\n&quot; );
}

din.close();


} catch( IOException ie ){ System.out.println(&quot;load error&quot;); }



</codetext>
</operation>
<relation>
<ID>_R12</ID>
<pin1name>_A6(_PX5)</pin1name>
<pin2name>_O11</pin2name>
</relation>
</xobject>
<codeclip>
<ID>_C9</ID>
<x0>627</x0>
<y0>3</y0>
<width>367</width>
<height>215</height>
<codetext>// 変数
JButton run_button; int run_mode = 0;
JTextField r_field, a_field, c_field, d_field;
CPU cpu; int mem_r[], mem_a[], mem_c[], mem_d[];
int reg_r, reg_a, reg_c, reg_d, reg_h, reg_m, reg_l; 
JLabel pointer_label, ret_label, st_label;
JLabel ld_label, ldh_label, ldm_label, ldl_label;
JTextArea message_area;;
JTextField clock_field; int clock=0;
JTextField interval_field; int interval=1000;
JTextField start_field, device_field;
JTextField address_field; int address;
JTextArea source_area; String source, line; int line_p;
</codetext>
</codeclip>
<relation>
<ID>_R10</ID>
<pin1name>_A0(_PAasm_button)</pin1name>
<pin2name>_X5(_P0)</pin2name>
</relation>
<relation>
<ID>_R11</ID>
<pin1name>_A0(_PArun_button)</pin1name>
<pin2name>_X6(_P0)</pin2name>
</relation>
<relation>
<ID>_R12</ID>
<pin1name>_A0(_PAedit_button)</pin1name>
<pin2name>_X4(_P0)</pin2name>
</relation>
<relation>
<ID>_R13</ID>
<pin1name>_A0(_PAload_button)</pin1name>
<pin2name>_X8(_P0)</pin2name>
</relation>
<relation>
<ID>_R15</ID>
<pin1name>_A0(_Pstart)</pin1name>
<pin2name>_X4(_P2)</pin2name>
</relation>
<relation>
<ID>_R16</ID>
<pin1name>_A0(_PAsingle_button)</pin1name>
<pin2name>_X6(_P1)</pin2name>
</relation>
<xobject>
<ID>_X19</ID>
<x0>479</x0>
<y0>242</y0>
<width>240</width>
<height>341</height>
<ID_maker>68</ID_maker>
<objectname>init_variables</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>0</x0>
<y0>429</y0>
<width>164</width>
<height>19</height>
<text>r_field_is(JTextField t)</text>
<px>11</px>
<py>46</py>
</pin>
<pin>
<ID>_P1</ID>
<x0>0</x0>
<y0>450</y0>
<width>163</width>
<height>22</height>
<text>a_field_is(JTextField t)</text>
<px>8</px>
<py>62</py>
</pin>
<pin>
<ID>_P2</ID>
<x0>0</x0>
<y0>474</y0>
<width>148</width>
<height>23</height>
<text>c_field_is(JTextField t)</text>
<px>7</px>
<py>76</py>
</pin>
<pin>
<ID>_P3</ID>
<x0>0</x0>
<y0>500</y0>
<width>150</width>
<height>21</height>
<text>d_field_is(JTextField t)</text>
<px>7</px>
<py>91</py>
</pin>
<pin>
<ID>_P4</ID>
<x0>0</x0>
<y0>155</y0>
<width>146</width>
<height>22</height>
<text>ret_label_is(JLabel l)</text>
<px>8</px>
<py>125</py>
</pin>
<pin>
<ID>_P5</ID>
<x0>1</x0>
<y0>178</y0>
<width>138</width>
<height>24</height>
<text>st_label_is(JLabel l)</text>
<px>7</px>
<py>140</py>
</pin>
<pin>
<ID>_P6</ID>
<x0>4</x0>
<y0>23</y0>
<width>132</width>
<height>22</height>
<text>ld_label_is(JLabel l)</text>
<px>8</px>
<py>158</py>
</pin>
<pin>
<ID>_P7</ID>
<x0>7</x0>
<y0>51</y0>
<width>138</width>
<height>22</height>
<text>ldh_label_is(JLabel l)</text>
<px>7</px>
<py>178</py>
</pin>
<pin>
<ID>_P8</ID>
<x0>9</x0>
<y0>77</y0>
<width>141</width>
<height>23</height>
<text>ldm_label_is(JLabel l)</text>
<px>8</px>
<py>194</py>
</pin>
<pin>
<ID>_P9</ID>
<x0>5</x0>
<y0>105</y0>
<width>143</width>
<height>23</height>
<text>ldl_label_is(JLabel l)</text>
<px>7</px>
<py>210</py>
</pin>
<pin>
<ID>_P10</ID>
<x0>3</x0>
<y0>357</y0>
<width>205</width>
<height>22</height>
<text>message_area_is(JTextArea t)</text>
<px>5</px>
<py>225</py>
</pin>
<pin>
<ID>_P11</ID>
<x0>0</x0>
<y0>226</y0>
<width>184</width>
<height>21</height>
<text>clock_field_is(JTextField t)</text>
<px>1</px>
<py>244</py>
</pin>
<pin>
<ID>_P13</ID>
<x0>0</x0>
<y0>275</y0>
<width>184</width>
<height>21</height>
<text>start_field_is(JTextField t)</text>
<px>4</px>
<py>265</py>
</pin>
<pin>
<ID>_P15</ID>
<x0>3</x0>
<y0>326</y0>
<width>211</width>
<height>27</height>
<text>interval_field_is(JTextField t)</text>
<px>7</px>
<py>287</py>
</pin>
<pin>
<ID>_P16</ID>
<x0>841</x0>
<y0>28</y0>
<width>52</width>
<height>25</height>
<text>start()</text>
<px>140</px>
<py>5</py>
</pin>
<pin>
<ID>_P17</ID>
<x0>0</x0>
<y0>400</y0>
<width>204</width>
<height>27</height>
<text>address_field_is(JTextField t)</text>
<px>2</px>
<py>312</py>
</pin>
<operation>
<ID>_O18</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>673</x0>
<y0>2</y0>
<width>129</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>77</inpinx0>
<inpiny0>28</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>cpu = new CPU();


mem_r = new int[8];
mem_a = new int[8];
mem_c = new int[8];
mem_d = new int[8];
</codetext>
</operation>
<relation>
<ID>_R19</ID>
<pin1name>_P16</pin1name>
<pin2name>_O18</pin2name>
</relation>
<pin>
<ID>_P20</ID>
<x0>2</x0>
<y0>129</y0>
<width>161</width>
<height>26</height>
<text>pointer_label_is(JLabel l)</text>
<px>8</px>
<py>108</py>
</pin>
<operation>
<ID>_O21</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>160</x0>
<y0>3</y0>
<width>121</width>
<height>47</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>25</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>ld_label = l;
</codetext>
</operation>
<relation>
<ID>_R22</ID>
<pin1name>_P6</pin1name>
<pin2name>_O21</pin2name>
</relation>
<operation>
<ID>_O23</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>299</x0>
<y0>23</y0>
<width>121</width>
<height>52</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>ldh_label = l;
</codetext>
</operation>
<operation>
<ID>_O26</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>429</x0>
<y0>50</y0>
<width>105</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>ldm_label = l;
</codetext>
</operation>
<operation>
<ID>_O27</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>541</x0>
<y0>77</y0>
<width>98</width>
<height>52</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>ldl_label = l;
</codetext>
</operation>
<relation>
<ID>_R28</ID>
<pin1name>_P7</pin1name>
<pin2name>_O23</pin2name>
</relation>
<relation>
<ID>_R29</ID>
<pin1name>_P8</pin1name>
<pin2name>_O26</pin2name>
</relation>
<relation>
<ID>_R30</ID>
<pin1name>_P9</pin1name>
<pin2name>_O27</pin2name>
</relation>
<operation>
<ID>_O31</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>645</x0>
<y0>105</y0>
<width>130</width>
<height>48</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>pointer_label = l;
</codetext>
</operation>
<relation>
<ID>_R32</ID>
<pin1name>_P20</pin1name>
<pin2name>_O31</pin2name>
</relation>
<operation>
<ID>_O33</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>779</x0>
<y0>127</y0>
<width>111</width>
<height>51</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>ret_label = l;
</codetext>
</operation>
<relation>
<ID>_R34</ID>
<pin1name>_P4</pin1name>
<pin2name>_O33</pin2name>
</relation>
<operation>
<ID>_O35</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>895</x0>
<y0>150</y0>
<width>100</width>
<height>52</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JLabel l)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>29</inpiny0>
<inpinwidth>76</inpinwidth>
<inpinheight>23</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>st_label = l;
</codetext>
</operation>
<relation>
<ID>_R36</ID>
<pin1name>_P5</pin1name>
<pin2name>_O35</pin2name>
</relation>
<operation>
<ID>_O37</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>196</x0>
<y0>200</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>clock_field = t;
</codetext>
</operation>
<relation>
<ID>_R38</ID>
<pin1name>_P11</pin1name>
<pin2name>_O37</pin2name>
</relation>
<operation>
<ID>_O41</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>453</x0>
<y0>246</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>start_field = t;
</codetext>
</operation>
<relation>
<ID>_R42</ID>
<pin1name>_P13</pin1name>
<pin2name>_O41</pin2name>
</relation>
<operation>
<ID>_O45</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>709</x0>
<y0>301</y0>
<width>138</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>interval_field = t;
</codetext>
</operation>
<relation>
<ID>_R46</ID>
<pin1name>_P15</pin1name>
<pin2name>_O45</pin2name>
</relation>
<operation>
<ID>_O47</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>856</x0>
<y0>331</y0>
<width>139</width>
<height>51</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextArea t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>message_area = t;
</codetext>
</operation>
<relation>
<ID>_R48</ID>
<pin1name>_P10</pin1name>
<pin2name>_O47</pin2name>
</relation>
<operation>
<ID>_O49</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>233</x0>
<y0>376</y0>
<width>137</width>
<height>49</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>address_field = t;
</codetext>
</operation>
<relation>
<ID>_R50</ID>
<pin1name>_P17</pin1name>
<pin2name>_O49</pin2name>
</relation>
<operation>
<ID>_O51</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>375</x0>
<y0>400</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>r_field = t;
</codetext>
</operation>
<relation>
<ID>_R52</ID>
<pin1name>_P0</pin1name>
<pin2name>_O51</pin2name>
</relation>
<operation>
<ID>_O53</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>510</x0>
<y0>423</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>a_field = t;
</codetext>
</operation>
<relation>
<ID>_R54</ID>
<pin1name>_P1</pin1name>
<pin2name>_O53</pin2name>
</relation>
<operation>
<ID>_O55</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>641</x0>
<y0>447</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>c_field = t;
</codetext>
</operation>
<relation>
<ID>_R56</ID>
<pin1name>_P2</pin1name>
<pin2name>_O55</pin2name>
</relation>
<operation>
<ID>_O57</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>772</x0>
<y0>473</y0>
<width>125</width>
<height>50</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JTextField t)</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>26</inpiny0>
<inpinwidth>104</inpinwidth>
<inpinheight>24</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>d_field = t;
</codetext>
</operation>
<relation>
<ID>_R58</ID>
<pin1name>_P3</pin1name>
<pin2name>_O57</pin2name>
</relation>
<pin>
<ID>_P59</ID>
<x0>1</x0>
<y0>563</y0>
<width>169</width>
<height>22</height>
<text>run_button_is(JButton b)</text>
<px>11</px>
<py>29</py>
</pin>
<operation>
<ID>_O60</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>371</x0>
<y0>534</y0>
<width>123</width>
<height>51</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(JButton b)</inpintext>
<inpinx0>2</inpinx0>
<inpiny0>31</inpiny0>
<inpinwidth>88</inpinwidth>
<inpinheight>19</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>run_button = b;
</codetext>
</operation>
<relation>
<ID>_R61</ID>
<pin1name>_P59</pin1name>
<pin2name>_O60</pin2name>
</relation>
</xobject>
<relation>
<ID>_R20</ID>
<pin1name>_A0(_Pr_field)</pin1name>
<pin2name>_X19(_P0)</pin2name>
</relation>
<relation>
<ID>_R21</ID>
<pin1name>_A0(_Pa_field)</pin1name>
<pin2name>_X19(_P1)</pin2name>
</relation>
<relation>
<ID>_R25</ID>
<pin1name>_A0(_Pc_field)</pin1name>
<pin2name>_X19(_P2)</pin2name>
</relation>
<relation>
<ID>_R26</ID>
<pin1name>_A0(_Pd_field)</pin1name>
<pin2name>_X19(_P3)</pin2name>
</relation>
<relation>
<ID>_R27</ID>
<pin1name>_A0(_Pret_label)</pin1name>
<pin2name>_X19(_P4)</pin2name>
</relation>
<relation>
<ID>_R28</ID>
<pin1name>_A0(_Pst_label)</pin1name>
<pin2name>_X19(_P5)</pin2name>
</relation>
<relation>
<ID>_R29</ID>
<pin1name>_A0(_Pld_label)</pin1name>
<pin2name>_X19(_P6)</pin2name>
</relation>
<relation>
<ID>_R30</ID>
<pin1name>_A0(_Pldh_label)</pin1name>
<pin2name>_X19(_P7)</pin2name>
</relation>
<relation>
<ID>_R31</ID>
<pin1name>_A0(_Pldm_label)</pin1name>
<pin2name>_X19(_P8)</pin2name>
</relation>
<relation>
<ID>_R32</ID>
<pin1name>_A0(_Pldl_label)</pin1name>
<pin2name>_X19(_P9)</pin2name>
</relation>
<relation>
<ID>_R33</ID>
<pin1name>_A0(_Pmessage_area)</pin1name>
<pin2name>_X19(_P10)</pin2name>
</relation>
<relation>
<ID>_R34</ID>
<pin1name>_A0(_Pclock_field)</pin1name>
<pin2name>_X19(_P11)</pin2name>
</relation>
<relation>
<ID>_R36</ID>
<pin1name>_A0(_Pstart_field)</pin1name>
<pin2name>_X19(_P13)</pin2name>
</relation>
<relation>
<ID>_R38</ID>
<pin1name>_A0(_Pinterval_field)</pin1name>
<pin2name>_X19(_P15)</pin2name>
</relation>
<relation>
<ID>_R41</ID>
<pin1name>_X4(_P2)</pin1name>
<pin2name>_X19(_P16)</pin2name>
</relation>
<xobject>
<ID>_X42</ID>
<x0>2</x0>
<y0>465</y0>
<width>162</width>
<height>103</height>
<ID_maker>13</ID_maker>
<objectname>memory_edit</objectname>
<description></description>
<pin>
<ID>_P0</ID>
<x0>117</x0>
<y0>235</y0>
<width>142</width>
<height>26</height>
<text>set_address(String s)</text>
<px>2</px>
<py>30</py>
</pin>
<pin>
<ID>_P1</ID>
<x0>108</x0>
<y0>170</y0>
<width>60</width>
<height>30</height>
<text>inc()</text>
<px>4</px>
<py>45</py>
</pin>
<pin>
<ID>_P2</ID>
<x0>121</x0>
<y0>313</y0>
<width>60</width>
<height>30</height>
<text>dec()</text>
<px>2</px>
<py>65</py>
</pin>
<pin>
<ID>_P3</ID>
<x0>100</x0>
<y0>100</y0>
<width>112</width>
<height>25</height>
<text>mem_set()</text>
<px>3</px>
<py>84</py>
</pin>
<operation>
<ID>_O4</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>324</x0>
<y0>241</y0>
<width>163</width>
<height>47</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in(String s)</inpintext>
<inpinx0>2</inpinx0>
<inpiny0>28</inpiny0>
<inpinwidth>78</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// メモリのデータを表示
int f;
address = Integer.parseInt( s, 16 );
f = cpu.read_mem(address);
if( f != 0 ) message_area.append(&quot;通信エラー\n&quot;);

// レジスタ表示処理
r_field.setText(hex3(mem_r[0]));
a_field.setText(hex3(mem_a[0]));
c_field.setText(hex2(mem_c[0]));
d_field.setText(hex1(mem_d[0]));

// 制御信号表示処理

if( (mem_c[0] &amp; POINTER) != 0 ) pointer_label.setBackground(Color.green);
else  pointer_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; RET)     != 0 ) ret_label.setBackground(Color.green);
else  ret_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; ST)      != 0 ) st_label.setBackground(Color.green);
else  st_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; LD)      != 0 ) ld_label.setBackground(Color.green);
else  ld_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; LDH)     != 0 ) ldh_label.setBackground(Color.green);
else  ldh_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; LDM)     != 0 ) ldm_label.setBackground(Color.green);
else  ldm_label.setBackground(Color.lightGray);

if( (mem_c[0] &amp; LDL)     != 0 ) ldl_label.setBackground(Color.green);
else  ldl_label.setBackground(Color.lightGray);
</codetext>
</operation>
<relation>
<ID>_R5</ID>
<pin1name>_P0</pin1name>
<pin2name>_O4</pin2name>
</relation>
<operation>
<ID>_O6</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>307</x0>
<y0>158</y0>
<width>263</width>
<height>45</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>1</inpinx0>
<inpiny0>24</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// アドレスを+1してメモリのデータを表示

int f;
address++;
if( address &gt;= 4096 ) address-=4096;
f = cpu.read_mem(address);
if( f != 0 ) message_area.append(&quot;通信エラー\n&quot;);

// レジスタ表示処理
address_field.setText(hex3(address));
r_field.setText(hex3(mem_r[0]));
a_field.setText(hex3(mem_a[0]));
c_field.setText(hex2(mem_c[0]));
d_field.setText(hex1(mem_d[0]));

// 制御信号表示処理
if( (mem_c[0] &amp; POINTER) != 0 ) pointer_label.setBackground(Color.green); else  pointer_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; RET)     != 0 ) ret_label.setBackground(Color.green);     else  ret_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; ST)      != 0 ) st_label.setBackground(Color.green);      else  st_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LD)      != 0 ) ld_label.setBackground(Color.green);      else  ld_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDH)     != 0 ) ldh_label.setBackground(Color.green);     else  ldh_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDM)     != 0 ) ldm_label.setBackground(Color.green);     else  ldm_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDL)     != 0 ) ldl_label.setBackground(Color.green);     else  ldl_label.setBackground(Color.lightGray);
</codetext>
</operation>
<relation>
<ID>_R7</ID>
<pin1name>_P1</pin1name>
<pin2name>_O6</pin2name>
</relation>
<operation>
<ID>_O9</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>305</x0>
<y0>311</y0>
<width>268</width>
<height>45</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>1</inpinx0>
<inpiny0>24</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// アドレスを-1してメモリのデータを表示

int f;
address--;
if( address &lt; 0 ) address+=4096;
f = cpu.read_mem(address);
if( f != 0 ) message_area.append(&quot;通信エラー\n&quot;);

// レジスタ表示処理
address_field.setText(hex3(address));
r_field.setText(hex3(mem_r[0]));
a_field.setText(hex3(mem_a[0]));
c_field.setText(hex2(mem_c[0]));
d_field.setText(hex1(mem_d[0]));

// 制御信号表示処理
if( (mem_c[0] &amp; POINTER) != 0 ) pointer_label.setBackground(Color.green); else  pointer_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; RET)     != 0 ) ret_label.setBackground(Color.green);     else  ret_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; ST)      != 0 ) st_label.setBackground(Color.green);      else  st_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LD)      != 0 ) ld_label.setBackground(Color.green);      else  ld_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDH)     != 0 ) ldh_label.setBackground(Color.green);     else  ldh_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDM)     != 0 ) ldm_label.setBackground(Color.green);     else  ldm_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDL)     != 0 ) ldl_label.setBackground(Color.green);     else  ldl_label.setBackground(Color.lightGray);
</codetext>
</operation>
<relation>
<ID>_R10</ID>
<pin1name>_P2</pin1name>
<pin2name>_O9</pin2name>
</relation>
<operation>
<ID>_O11</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>303</x0>
<y0>94</y0>
<width>267</width>
<height>43</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>40</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>40</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>0</inpinx0>
<inpiny0>24</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// 表示されているデータをメモリに書き込む

int f;
address = Integer.parseInt( address_field.getText(), 16 );
mem_r[0] = Integer.parseInt( r_field.getText(), 16 );
mem_a[0] = Integer.parseInt( a_field.getText(), 16 );
mem_c[0] = Integer.parseInt( c_field.getText(), 16 );
mem_d[0] = Integer.parseInt( d_field.getText(), 16 );
 f = cpu.write_mem( address );
if( f != 0 ) message_area.append(&quot;通信エラー\n&quot;);
if( (mem_c[0] &amp; POINTER) != 0 ) pointer_label.setBackground(Color.green); else  pointer_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; RET)     != 0 ) ret_label.setBackground(Color.green);     else  ret_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; ST)      != 0 ) st_label.setBackground(Color.green);      else  st_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LD)      != 0 ) ld_label.setBackground(Color.green);      else  ld_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDH)     != 0 ) ldh_label.setBackground(Color.green);     else  ldh_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDM)     != 0 ) ldm_label.setBackground(Color.green);     else  ldm_label.setBackground(Color.lightGray);
if( (mem_c[0] &amp; LDL)     != 0 ) ldl_label.setBackground(Color.green);     else  ldl_label.setBackground(Color.lightGray);
</codetext>
</operation>
<relation>
<ID>_R12</ID>
<pin1name>_P3</pin1name>
<pin2name>_O11</pin2name>
</relation>
</xobject>
<relation>
<ID>_R43</ID>
<pin1name>_A0(_PAaddress_field)</pin1name>
<pin2name>_X42(_P0)</pin2name>
</relation>
<relation>
<ID>_R44</ID>
<pin1name>_A0(_PAinc_addr)</pin1name>
<pin2name>_X42(_P1)</pin2name>
</relation>
<relation>
<ID>_R45</ID>
<pin1name>_A0(_PAdec_addr)</pin1name>
<pin2name>_X42(_P2)</pin2name>
</relation>
<relation>
<ID>_R46</ID>
<pin1name>_A0(_PAmem_set)</pin1name>
<pin2name>_X42(_P3)</pin2name>
</relation>
<codeclip>
<ID>_C47</ID>
<x0>746</x0>
<y0>450</y0>
<width>230</width>
<height>35</height>
<codetext>// 長さが3文字の16進数文字列を返す
public String hex3( int i ){
  String s = Integer.toHexString(i);
  int l = s.length();
  if( l ==1 ) return &quot;00&quot;+s;
  if ( l== 2 ) return &quot;0&quot;+s;
  return s;
}
</codetext>
</codeclip>
<codeclip>
<ID>_C48</ID>
<x0>747</x0>
<y0>412</y0>
<width>229</width>
<height>34</height>
<codetext>// 長さが2文字の16進数文字列を返す
public String hex2( int i ){
  String s = Integer.toHexString(i);
  int l = s.length();
  if( l ==1 ) return &quot;0&quot;+s;
  return s;
}
</codetext>
</codeclip>
<relation>
<ID>_R49</ID>
<pin1name>_A0(_Paddress_field)</pin1name>
<pin2name>_X19(_P17)</pin2name>
</relation>
<codeclip>
<ID>_C50</ID>
<x0>741</x0>
<y0>228</y0>
<width>249</width>
<height>131</height>
<codetext>//コマンドレジスタのビット割り当て
static final int POINTER=64;
static final int RET=32;
static final int ST=16;
static final int LD=8;
static final int LDH=4;
static final int LDM=2;
static final int LDL=1;
</codetext>
</codeclip>
<relation>
<ID>_R51</ID>
<pin1name>_A0(_PAsave_button)</pin1name>
<pin2name>_X8(_P1)</pin2name>
</relation>
<relation>
<ID>_R52</ID>
<pin1name>_A0(_Ppointer_label)</pin1name>
<pin2name>_X19(_P20)</pin2name>
</relation>
<relation>
<ID>_R53</ID>
<pin1name>_A0(_Prun_button)</pin1name>
<pin2name>_X19(_P59)</pin2name>
</relation>
<codeclip>
<ID>_C54</ID>
<x0>2</x0>
<y0>346</y0>
<width>139</width>
<height>33</height>
<codetext>// CPU通信用クラス
class CPU{
  byte[] buffer;

  CPU(){
    buffer = new byte[256];
  }

 public void disconnect(){
  }

 public int read_mem( int address ){
   int ret = 0;
   try{
   String command = &quot;racd4_read &quot;+address;
   Process process = Runtime.getRuntime().exec(command);
   BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));
   mem_r[0] = Integer.parseInt(in.readLine());
   mem_a[0] = Integer.parseInt(in.readLine());
   mem_c[0] = Integer.parseInt(in.readLine());
   mem_d[0] = Integer.parseInt(in.readLine());
   in.close();
   } catch( Exception e ){ ret = 1;}
   return ret;
 }

 public int write_mem( int address ){
   int ret = 0;
   try{
   String command = &quot;racd4_write &quot; + address + &quot; &quot; + mem_r[0] + &quot; &quot; + mem_a[0] + &quot; &quot; + mem_c[0] + &quot; &quot; + mem_d[0];
   Process process = Runtime.getRuntime().exec(command);
   } catch( Exception e ){ ret = 1; }
   return ret;
 } 

 public int execute( int address ){
   int i, ret = 0;
   try{
   String command = &quot;racd4_exec &quot;+address;
   Process process = Runtime.getRuntime().exec(command);
   BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));
   for( i = 0; i &lt; 8; i++ ){
     mem_r[i] = Integer.parseInt(in.readLine());
     mem_a[i] = Integer.parseInt(in.readLine());
     mem_c[i] = Integer.parseInt(in.readLine());
     mem_d[i] = Integer.parseInt(in.readLine());
    }
   in.close();
   } catch( Exception e ){ ret = 1;}
   return ret;
 }

}
</codetext>
</codeclip>
<codeclip>
<ID>_C58</ID>
<x0>745</x0>
<y0>375</y0>
<width>229</width>
<height>34</height>
<codetext>// 16進数文字列を返す
public String hex1( int i ){
  String s = Integer.toHexString(i);
  return s;
}
</codetext>
</codeclip>
<プロパティ>
<ID>properties</ID>
<LookandFeel>javax.swing.plaf.metal.MetalLookAndFeel</LookandFeel>
<MainWinx0>0</MainWinx0>
<MainWiny0>0</MainWiny0>
<MainWinWidth>1024</MainWinWidth>
<MainWinHeight>740</MainWinHeight>
<MesgWinx0>0</MesgWinx0>
<MesgWiny0>566</MesgWiny0>
<MesgWinWidth>1024</MesgWinWidth>
<MesgWinHeight>174</MesgWinHeight>
<FileWinx0>36</FileWinx0>
<FileWiny0>489</FileWiny0>
<FileWinWidth>578</FileWinWidth>
<FileWinHeight>262</FileWinHeight>
<EditWinx0>348</EditWinx0>
<EditWiny0>0</EditWiny0>
<EditWinWidth>676</EditWinWidth>
<EditWinHeight>541</EditWinHeight>
<PropWinx0>1</PropWinx0>
<PropWiny0>1</PropWiny0>
<PropWinWidth>615</PropWinWidth>
<PropWinHeight>448</PropWinHeight>
<DividerLocation1>2</DividerLocation1>
<DividerLocation2>2</DividerLocation2>
<ToolBarVisible>1</ToolBarVisible>
<ViewSourceAtCompile>0</ViewSourceAtCompile>
<NoSourceCreate>0</NoSourceCreate>
<JavaEditCommand></JavaEditCommand>
<JavaViewCommand></JavaViewCommand>
<HelpCommand></HelpCommand>
<ApplicationType>0</ApplicationType>
<CompileCommand0>./compile</CompileCommand0>
<RunCommand0>./run</RunCommand0>
<GUIDesignerCommand0>java -jar guidsin.jar -java</GUIDesignerCommand0>
<ImportFiles0> import java.awt.*;
 import java.awt.event.*;
 import javax.swing.*;
 import javax.swing.event.*;
 import javax.swing.tree.*;
 import java.io.*;
 import java.net.*;
 import java.util.*;
import java.awt.geom.*;
import java.awt.print.*;
import javax.swing.border.*;
import javax.swing.filechooser.*;
 import javax.swing.*;
 import javax.swing.event.*;
 import javax.swing.tree.*;
 import java.io.*;
 import java.net.*;
 import java.util.*;
import java.awt.image.BufferedImage;
import javax.sound.sampled.*;

class Starter{
  public static void main( String args[] ){
    %AppName% ap = new %AppName%();
    ap.ARGS = args;
    ap.Start();
  }
}
</ImportFiles0>
<ProgramStartupCode0> String[] ARGS;
</ProgramStartupCode0>
<NativeHelpCommand0></NativeHelpCommand0>
<CompileCommand1>./compile_applet</CompileCommand1>
<RunCommand1>./run_applet</RunCommand1>
<GUIDesignerCommand1>java -jar guidsin.jar -applet</GUIDesignerCommand1>
<ImportFiles1> import java.awt.*;
 import java.awt.event.*;
 import java.applet.*;
 import javax.swing.*;
 import javax.swing.event.*;
 import javax.swing.tree.*;
 import java.io.*;
 import java.net.*;
 import java.util.*;
 public class javatext extends Applet {
   %AppName% ap;
   public void init() {
     ap = new %AppName%();
     ap.APPLET = this;
     ap.Start();
   }
 }
</ImportFiles1>
<ProgramStartupCode1> Applet APPLET;
</ProgramStartupCode1>
<NativeHelpCommand1></NativeHelpCommand1>
<CompileCommand2>./compile_cpp</CompileCommand2>
<RunCommand2>./run_cpp</RunCommand2>
<GUIDesignerCommand2></GUIDesignerCommand2>
<ImportFiles2>#include &lt;stdio.h&gt;

void Startup();
</ImportFiles2>
<ProgramStartupCode2>int main(){
 Startup();
 %AppName%::Start();
 }
</ProgramStartupCode2>
<NativeHelpCommand2></NativeHelpCommand2>
<CompileCommand3>./compile_cppw</CompileCommand3>
<RunCommand3>./run_cppw</RunCommand3>
<GUIDesignerCommand3>java -jar guidsin.jar -cpp</GUIDesignerCommand3>
<ImportFiles3>#include &lt;stdio.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;math.h&gt;
#include &quot;Ekagen.h&quot;
void Startup();
</ImportFiles3>
<ProgramStartupCode3>void Emain(){
Startup();
%AppName%::Start();
}
</ProgramStartupCode3>
<NativeHelpCommand3></NativeHelpCommand3>
<MoveStep>8</MoveStep>
<ImageEditCommand></ImageEditCommand>
<CompilerFileName>javac.exe</CompilerFileName>
<CompileCommand4>./compile_android</CompileCommand4>
<RunCommand4>./run_android</RunCommand4>
<GUIDesignerCommand4>java -jar guidsin.jar -android</GUIDesignerCommand4>
<ImportFiles4>package com.android.hello;
import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.view.*;
import android.view.Window;
import android.widget.AbsoluteLayout;
import android.widget.*;
import android.view.Gravity;
import android.view.View.OnClickListener;

public class HelloWorld extends Activity {
  public void onCreate(Bundle bundle) {
    super.onCreate(bundle);
    %AppName% ap = new %AppName%();
    ap.ACTIVITY = this;
    ap.Start();
  }
}
</ImportFiles4>
<ProgramStartupCode4>Activity ACTIVITY;
</ProgramStartupCode4>
<NativeHelpCommand4></NativeHelpCommand4>
<HtmlEditCommand></HtmlEditCommand>
<NoOptimizePin>0</NoOptimizePin>
<IDF_LocalVariable5>\</IDF_LocalVariable5>
<CompileCommand5></CompileCommand5>
<RunCommand5></RunCommand5>
<GUIDesignerCommand5></GUIDesignerCommand5>
<ImportFiles5></ImportFiles5>
<ProgramStartupCode5></ProgramStartupCode5>
<NativeHelpCommand5></NativeHelpCommand5>
<CompileCommand6></CompileCommand6>
<RunCommand6></RunCommand6>
<GUIDesignerCommand6></GUIDesignerCommand6>
<ImportFiles6></ImportFiles6>
<ProgramStartupCode6></ProgramStartupCode6>
<NativeHelpCommand6></NativeHelpCommand6>
<IDF_LocalVariable7>\</IDF_LocalVariable7>
<CompileCommand7></CompileCommand7>
<RunCommand7></RunCommand7>
<GUIDesignerCommand7></GUIDesignerCommand7>
<ImportFiles7></ImportFiles7>
<ProgramStartupCode7></ProgramStartupCode7>
<NativeHelpCommand7></NativeHelpCommand7>
</プロパティ>
<aobject>
<ID>_A0</ID>
<x0>190</x0>
<y0>10</y0>
<width>267</width>
<objectname>GUI</objectname>
<description>GUIオブジェクト
</description>
<state>
<ID>_SINIT</ID>
<x0>0</x0>
<y0>40</y0>
<width>70</width>
<height>40</height>
<text>  InitState</text>
<isinitstate>1</isinitstate>
</state>
<pin>
<ID>_Pstart</ID>
<x0>400</x0>
<y0>100</y0>
<width>80</width>
<height>26</height>
<text>Start()</text>
<px>0</px>
<py>36</py>
</pin>
<pin>
<ID>_PGUIout</ID>
<x0>0</x0>
<y0>84</y0>
<width>180</width>
<height>26</height>
<text>GUI_created(JFrame f)</text>
<px>0</px>
<py>54</py>
</pin>
<pin>
<ID>_PGUIclosed</ID>
<x0>310</x0>
<y0>0</y0>
<width>180</width>
<height>26</height>
<text>GUI_closed()</text>
<px>79</px>
<py>7</py>
</pin>
<action>
<ID>_Astart</ID>
<comp1name>_Pstart</comp1name>
<comp2name>_Ocreate</comp2name>
</action>
<operation>
<ID>_Ocreate</ID>
<state1>_SINIT</state1>
<state2>_SINIT</state2>
<x0>220</x0>
<y0>40</y0>
<width>130</width>
<height>64</height>
<inconnectx0>0</inconnectx0>
<inconnecty0>30</inconnecty0>
<outconnectx0>0</outconnectx0>
<outconnecty0>30</outconnecty0>
<inpintext>in()</inpintext>
<inpinx0>90</inpinx0>
<inpiny0>43</inpiny0>
<inpinwidth>40</inpinwidth>
<inpinheight>20</inpinheight>
<outpintext>out()</outpintext>
<outpinx0>90</outpinx0>
<outpiny0>40</outpiny0>
<outpinwidth>40</outpinwidth>
<outpinheight>20</outpinheight>
<inpinlinkcount>1</inpinlinkcount>
<description></description>
<codetext>// GUIを作成する
XGUI x = new XGUI();

</codetext>
</operation>
<pin>
<ID>_PAasm_button</ID>
<x0>0</x0>
<y0>110</y0>
<width>200</width>
<height>26</height>
<text>asm_button_clicked()</text>
<px>0</px>
<py>72</py>
</pin>
<pin>
<ID>_Prun_button</ID>
<x0>0</x0>
<y0>138</y0>
<width>200</width>
<height>26</height>
<text>run_button_created(JButton b)</text>
<px>0</px>
<py>90</py>
</pin>
<pin>
<ID>_PArun_button</ID>
<x0>0</x0>
<y0>166</y0>
<width>200</width>
<height>26</height>
<text>run_button_clicked()</text>
<px>0</px>
<py>108</py>
</pin>
<pin>
<ID>_PAload_button</ID>
<x0>0</x0>
<y0>194</y0>
<width>200</width>
<height>26</height>
<text>load_button_clicked()</text>
<px>0</px>
<py>126</py>
</pin>
<pin>
<ID>_PAsave_button</ID>
<x0>0</x0>
<y0>222</y0>
<width>200</width>
<height>26</height>
<text>save_button_clicked()</text>
<px>0</px>
<py>144</py>
</pin>
<pin>
<ID>_PAedit_button</ID>
<x0>0</x0>
<y0>250</y0>
<width>200</width>
<height>26</height>
<text>edit_button_clicked()</text>
<px>0</px>
<py>162</py>
</pin>
<pin>
<ID>_Pr_field</ID>
<x0>0</x0>
<y0>278</y0>
<width>200</width>
<height>26</height>
<text>r_field_created(JTextField t)</text>
<px>0</px>
<py>180</py>
</pin>
<pin>
<ID>_Pa_field</ID>
<x0>0</x0>
<y0>306</y0>
<width>200</width>
<height>26</height>
<text>a_field_created(JTextField t)</text>
<px>0</px>
<py>198</py>
</pin>
<pin>
<ID>_Pc_field</ID>
<x0>0</x0>
<y0>334</y0>
<width>200</width>
<height>26</height>
<text>c_field_created(JTextField t)</text>
<px>0</px>
<py>216</py>
</pin>
<pin>
<ID>_Pd_field</ID>
<x0>0</x0>
<y0>362</y0>
<width>200</width>
<height>26</height>
<text>d_field_created(JTextField t)</text>
<px>0</px>
<py>234</py>
</pin>
<pin>
<ID>_Ppointer_label</ID>
<x0>0</x0>
<y0>390</y0>
<width>200</width>
<height>26</height>
<text>pointer_label_created(JLabel l)</text>
<px>0</px>
<py>252</py>
</pin>
<pin>
<ID>_Pret_label</ID>
<x0>0</x0>
<y0>418</y0>
<width>200</width>
<height>26</height>
<text>ret_label_created(JLabel l)</text>
<px>0</px>
<py>270</py>
</pin>
<pin>
<ID>_Pst_label</ID>
<x0>0</x0>
<y0>446</y0>
<width>200</width>
<height>26</height>
<text>st_label_created(JLabel l)</text>
<px>0</px>
<py>288</py>
</pin>
<pin>
<ID>_Pld_label</ID>
<x0>0</x0>
<y0>474</y0>
<width>200</width>
<height>26</height>
<text>ld_label_created(JLabel l)</text>
<px>0</px>
<py>306</py>
</pin>
<pin>
<ID>_Pldh_label</ID>
<x0>0</x0>
<y0>502</y0>
<width>200</width>
<height>26</height>
<text>ldh_label_created(JLabel l)</text>
<px>0</px>
<py>324</py>
</pin>
<pin>
<ID>_Pldm_label</ID>
<x0>0</x0>
<y0>530</y0>
<width>200</width>
<height>26</height>
<text>ldm_label_created(JLabel l)</text>
<px>0</px>
<py>342</py>
</pin>
<pin>
<ID>_Pldl_label</ID>
<x0>0</x0>
<y0>558</y0>
<width>200</width>
<height>26</height>
<text>ldl_label_created(JLabel l)</text>
<px>0</px>
<py>360</py>
</pin>
<pin>
<ID>_Pmessage_area</ID>
<x0>0</x0>
<y0>586</y0>
<width>200</width>
<height>26</height>
<text>message_area_created(JTextArea t)</text>
<px>0</px>
<py>378</py>
</pin>
<pin>
<ID>_PAsingle_button</ID>
<x0>0</x0>
<y0>614</y0>
<width>200</width>
<height>26</height>
<text>single_button_clicked()</text>
<px>0</px>
<py>396</py>
</pin>
<pin>
<ID>_Pclock_field</ID>
<x0>0</x0>
<y0>642</y0>
<width>200</width>
<height>26</height>
<text>clock_field_created(JTextField t)</text>
<px>0</px>
<py>414</py>
</pin>
<pin>
<ID>_Pstart_field</ID>
<x0>0</x0>
<y0>670</y0>
<width>200</width>
<height>26</height>
<text>start_field_created(JTextField t)</text>
<px>0</px>
<py>432</py>
</pin>
<pin>
<ID>_Pinterval_field</ID>
<x0>0</x0>
<y0>698</y0>
<width>200</width>
<height>26</height>
<text>interval_field_created(JTextField t)</text>
<px>0</px>
<py>450</py>
</pin>
<pin>
<ID>_Paddress_field</ID>
<x0>0</x0>
<y0>726</y0>
<width>200</width>
<height>26</height>
<text>address_field_created(JTextField t)</text>
<px>0</px>
<py>468</py>
</pin>
<pin>
<ID>_PAaddress_field</ID>
<x0>0</x0>
<y0>754</y0>
<width>200</width>
<height>26</height>
<text>address_field_input(String s)</text>
<px>0</px>
<py>486</py>
</pin>
<pin>
<ID>_PAinc_addr</ID>
<x0>0</x0>
<y0>782</y0>
<width>200</width>
<height>26</height>
<text>inc_addr_clicked()</text>
<px>0</px>
<py>504</py>
</pin>
<pin>
<ID>_PAdec_addr</ID>
<x0>0</x0>
<y0>810</y0>
<width>200</width>
<height>26</height>
<text>dec_addr_clicked()</text>
<px>0</px>
<py>522</py>
</pin>
<pin>
<ID>_PAmem_set</ID>
<x0>0</x0>
<y0>838</y0>
<width>200</width>
<height>26</height>
<text>mem_set_clicked()</text>
<px>0</px>
<py>540</py>
</pin>
<codeclip>
<ID>_CXSTART</ID>
<x0>0</x0>
<y0>0</y0>
<width>300</width>
<height>26</height>
<codetext> class XGUI extends JFrame implements WindowListener{
 JPanel cnt;
asm_button Iasm_button;
 class asm_button extends JButton implements ActionListener{
  asm_button(){
 setOpaque( true );
 setName(  &quot;asm_button&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;assemble&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ asm_button_clicked(); }
}
run_button Irun_button;
 class run_button extends JButton implements ActionListener{
  run_button(){
 setOpaque( true );
 setName(  &quot;run_button&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;run&quot; );
 addActionListener( this );
 run_button_created( this );
}
 public void actionPerformed( ActionEvent e ){ run_button_clicked(); }
}
LABEL2 ILABEL2;
 class LABEL2 extends JLabel{
  LABEL2(){
 setOpaque( true );
 setName(  &quot;LABEL2&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;R:&quot; );
}
}
LABEL3 ILABEL3;
 class LABEL3 extends JLabel{
  LABEL3(){
 setOpaque( true );
 setName(  &quot;LABEL3&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;A:&quot; );
}
}
LABEL4 ILABEL4;
 class LABEL4 extends JLabel{
  LABEL4(){
 setOpaque( true );
 setName(  &quot;LABEL4&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;C:&quot; );
}
}
load_button Iload_button;
 class load_button extends JButton implements ActionListener{
  load_button(){
 setOpaque( true );
 setName(  &quot;load_button&quot; );
 setFont( new Font( &quot;DejaVu Sans&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;load&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ load_button_clicked(); }
}
save_button Isave_button;
 class save_button extends JButton implements ActionListener{
  save_button(){
 setOpaque( true );
 setName(  &quot;save_button&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;save&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ save_button_clicked(); }
}
edit_button Iedit_button;
 class edit_button extends JButton implements ActionListener{
  edit_button(){
 setOpaque( true );
 setName(  &quot;edit_button&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;edit&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ edit_button_clicked(); }
}
LABEL8 ILABEL8;
 class LABEL8 extends JLabel{
  LABEL8(){
 setOpaque( true );
 setName(  &quot;LABEL8&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;D:&quot; );
}
}
r_field Ir_field;
 class r_field extends JTextField{
  r_field(){
 setOpaque( true );
 setName(  &quot;r_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;000&quot; );
 r_field_created( this );
}
}
a_field Ia_field;
 class a_field extends JTextField{
  a_field(){
 setOpaque( true );
 setName(  &quot;a_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;000&quot; );
 a_field_created( this );
}
}
c_field Ic_field;
 class c_field extends JTextField{
  c_field(){
 setOpaque( true );
 setName(  &quot;c_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;00&quot; );
 c_field_created( this );
}
}
d_field Id_field;
 class d_field extends JTextField{
  d_field(){
 setOpaque( true );
 setName(  &quot;d_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;0&quot; );
 d_field_created( this );
}
}
pointer_label Ipointer_label;
 class pointer_label extends JLabel{
  pointer_label(){
 setOpaque( true );
 setName(  &quot;pointer_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;POINTER&quot; );
 pointer_label_created( this );
}
}
ret_label Iret_label;
 class ret_label extends JLabel{
  ret_label(){
 setOpaque( true );
 setName(  &quot;ret_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;RET&quot; );
 ret_label_created( this );
}
}
st_label Ist_label;
 class st_label extends JLabel{
  st_label(){
 setOpaque( true );
 setName(  &quot;st_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;ST&quot; );
 st_label_created( this );
}
}
ld_label Ild_label;
 class ld_label extends JLabel{
  ld_label(){
 setOpaque( true );
 setName(  &quot;ld_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;LD&quot; );
 ld_label_created( this );
}
}
ldh_label Ildh_label;
 class ldh_label extends JLabel{
  ldh_label(){
 setOpaque( true );
 setName(  &quot;ldh_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;LDH&quot; );
 ldh_label_created( this );
}
}
ldm_label Ildm_label;
 class ldm_label extends JLabel{
  ldm_label(){
 setOpaque( true );
 setName(  &quot;ldm_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;LDM&quot; );
 ldm_label_created( this );
}
}
ldl_label Ildl_label;
 class ldl_label extends JLabel{
  ldl_label(){
 setOpaque( true );
 setName(  &quot;ldl_label&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;LDL&quot; );
 ldl_label_created( this );
}
}
message_area Imessage_area;
 class message_area extends JTextArea{
 JScrollPane scrl;
  message_area(){
 setOpaque( true );
 setName(  &quot;message_area&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;&quot; );
 scrl = new JScrollPane( this );
 message_area_created( this );
}
}
single_button Isingle_button;
 class single_button extends JButton implements ActionListener{
  single_button(){
 setOpaque( true );
 setName(  &quot;single_button&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;1step&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ single_button_clicked(); }
}
LABEL24 ILABEL24;
 class LABEL24 extends JLabel{
  LABEL24(){
 setOpaque( true );
 setName(  &quot;LABEL24&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 2 );
 setVerticalAlignment( 0 );
 setText( &quot;CLOCK:&quot; );
}
}
clock_field Iclock_field;
 class clock_field extends JTextField{
  clock_field(){
 setOpaque( true );
 setName(  &quot;clock_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;0&quot; );
 clock_field_created( this );
}
}
LABEL26 ILABEL26;
 class LABEL26 extends JLabel{
  LABEL26(){
 setOpaque( true );
 setName(  &quot;LABEL26&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;Memory Window&quot; );
}
}
start_field Istart_field;
 class start_field extends JTextField{
  start_field(){
 setOpaque( true );
 setName(  &quot;start_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;000&quot; );
 start_field_created( this );
}
}
LABEL33 ILABEL33;
 class LABEL33 extends JLabel{
  LABEL33(){
 setOpaque( true );
 setName(  &quot;LABEL33&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;interval time&quot; );
}
}
LABEL34 ILABEL34;
 class LABEL34 extends JLabel{
  LABEL34(){
 setOpaque( true );
 setName(  &quot;LABEL34&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;ms&quot; );
}
}
interval_field Iinterval_field;
 class interval_field extends JTextField{
  interval_field(){
 setOpaque( true );
 setName(  &quot;interval_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 8 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;1000&quot; );
 interval_field_created( this );
}
}
LABEL36 ILABEL36;
 class LABEL36 extends JLabel{
  LABEL36(){
 setOpaque( true );
 setName(  &quot;LABEL36&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;ADDR&quot; );
}
}
address_field Iaddress_field;
 class address_field extends JTextField implements ActionListener{
  address_field(){
 setOpaque( true );
 setName(  &quot;address_field&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  255, 255, 255 ));
 setText( &quot;000&quot; );
 addActionListener( this );
 address_field_created( this );
}
 public void actionPerformed( ActionEvent e ){ address_field_input( getText() ); }
}
inc_addr Iinc_addr;
 class inc_addr extends JButton implements ActionListener{
  inc_addr(){
 setOpaque( true );
 setName(  &quot;inc_addr&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;+&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ inc_addr_clicked(); }
}
dec_addr Idec_addr;
 class dec_addr extends JButton implements ActionListener{
  dec_addr(){
 setOpaque( true );
 setName(  &quot;dec_addr&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;-&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ dec_addr_clicked(); }
}
mem_set Imem_set;
 class mem_set extends JButton implements ActionListener{
  mem_set(){
 setOpaque( true );
 setName(  &quot;mem_set&quot; );
 setFont( new Font( &quot;Dialog&quot;, 0, 12 ));
 setForeground( new Color(  51, 51, 51 ));
 setBackground( new Color(  192, 192, 192 ));
 setHorizontalAlignment( 0 );
 setVerticalAlignment( 0 );
 setText( &quot;WRT&quot; );
 addActionListener( this );
}
 public void actionPerformed( ActionEvent e ){ mem_set_clicked(); }
}
 XGUI(){
 setTitle(&quot;CARD4コンソール&quot;);
 cnt = new JPanel( new BorderLayout() );
 cnt.setPreferredSize(  new  Dimension( 420, 577 ) );
 ((Component)cnt).setBackground( new Color( 238, 238, 238 ) );
 Iasm_button = new asm_button();
 cnt.add( Iasm_button, 0 );
 cnt.getLayout().removeLayoutComponent( Iasm_button );
 Iasm_button.setBounds( 3, 3, 102, 27 );
 Irun_button = new run_button();
 cnt.add( Irun_button, 0 );
 cnt.getLayout().removeLayoutComponent( Irun_button );
 Irun_button.setBounds( 113, 4, 68, 27 );
 ILABEL2 = new LABEL2();
 cnt.add( ILABEL2, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL2 );
 ILABEL2.setBounds( 244, 33, 36, 17 );
 ILABEL3 = new LABEL3();
 cnt.add( ILABEL3, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL3 );
 ILABEL3.setBounds( 203, 33, 40, 18 );
 ILABEL4 = new LABEL4();
 cnt.add( ILABEL4, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL4 );
 ILABEL4.setBounds( 167, 34, 35, 17 );
 Iload_button = new load_button();
 cnt.add( Iload_button, 0 );
 cnt.getLayout().removeLayoutComponent( Iload_button );
 Iload_button.setBounds( 186, 3, 74, 28 );
 Isave_button = new save_button();
 cnt.add( Isave_button, 0 );
 cnt.getLayout().removeLayoutComponent( Isave_button );
 Isave_button.setBounds( 267, 3, 68, 29 );
 Iedit_button = new edit_button();
 cnt.add( Iedit_button, 0 );
 cnt.getLayout().removeLayoutComponent( Iedit_button );
 Iedit_button.setBounds( 340, 2, 76, 28 );
 ILABEL8 = new LABEL8();
 cnt.add( ILABEL8, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL8 );
 ILABEL8.setBounds( 282, 34, 32, 17 );
 Ir_field = new r_field();
 cnt.add( Ir_field, 0 );
 cnt.getLayout().removeLayoutComponent( Ir_field );
 Ir_field.setBounds( 246, 53, 33, 19 );
 Ia_field = new a_field();
 cnt.add( Ia_field, 0 );
 cnt.getLayout().removeLayoutComponent( Ia_field );
 Ia_field.setBounds( 205, 53, 40, 19 );
 Ic_field = new c_field();
 cnt.add( Ic_field, 0 );
 cnt.getLayout().removeLayoutComponent( Ic_field );
 Ic_field.setBounds( 165, 53, 38, 18 );
 Id_field = new d_field();
 cnt.add( Id_field, 0 );
 cnt.getLayout().removeLayoutComponent( Id_field );
 Id_field.setBounds( 281, 53, 32, 18 );
 Ipointer_label = new pointer_label();
 cnt.add( Ipointer_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ipointer_label );
 Ipointer_label.setBounds( 7, 75, 61, 30 );
 Iret_label = new ret_label();
 cnt.add( Iret_label, 0 );
 cnt.getLayout().removeLayoutComponent( Iret_label );
 Iret_label.setBounds( 71, 75, 33, 28 );
 Ist_label = new st_label();
 cnt.add( Ist_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ist_label );
 Ist_label.setBounds( 110, 76, 35, 27 );
 Ild_label = new ld_label();
 cnt.add( Ild_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ild_label );
 Ild_label.setBounds( 149, 75, 32, 29 );
 Ildh_label = new ldh_label();
 cnt.add( Ildh_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ildh_label );
 Ildh_label.setBounds( 185, 75, 38, 30 );
 Ildm_label = new ldm_label();
 cnt.add( Ildm_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ildm_label );
 Ildm_label.setBounds( 228, 74, 37, 29 );
 Ildl_label = new ldl_label();
 cnt.add( Ildl_label, 0 );
 cnt.getLayout().removeLayoutComponent( Ildl_label );
 Ildl_label.setBounds( 267, 75, 35, 28 );
 Imessage_area = new message_area();
 cnt.add( Imessage_area.scrl, 0 );
 cnt.getLayout().removeLayoutComponent( Imessage_area.scrl );
 (  Imessage_area.scrl ).setBounds( 7, 141, 408, 432 );
 Isingle_button = new single_button();
 cnt.add( Isingle_button, 0 );
 cnt.getLayout().removeLayoutComponent( Isingle_button );
 Isingle_button.setBounds( 128, 108, 73, 28 );
 ILABEL24 = new LABEL24();
 cnt.add( ILABEL24, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL24 );
 ILABEL24.setBounds( 8, 109, 53, 26 );
 Iclock_field = new clock_field();
 cnt.add( Iclock_field, 0 );
 cnt.getLayout().removeLayoutComponent( Iclock_field );
 Iclock_field.setBounds( 66, 108, 58, 30 );
 ILABEL26 = new LABEL26();
 cnt.add( ILABEL26, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL26 );
 ILABEL26.setBounds( 306, 78, 109, 27 );
 Istart_field = new start_field();
 cnt.add( Istart_field, 0 );
 cnt.getLayout().removeLayoutComponent( Istart_field );
 Istart_field.setBounds( 308, 109, 106, 27 );
 ILABEL33 = new LABEL33();
 cnt.add( ILABEL33, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL33 );
 ILABEL33.setBounds( 204, 107, 94, 15 );
 ILABEL34 = new LABEL34();
 cnt.add( ILABEL34, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL34 );
 ILABEL34.setBounds( 275, 123, 26, 12 );
 Iinterval_field = new interval_field();
 cnt.add( Iinterval_field, 0 );
 cnt.getLayout().removeLayoutComponent( Iinterval_field );
 Iinterval_field.setBounds( 208, 123, 67, 15 );
 ILABEL36 = new LABEL36();
 cnt.add( ILABEL36, 0 );
 cnt.getLayout().removeLayoutComponent( ILABEL36 );
 ILABEL36.setBounds( 122, 35, 41, 17 );
 Iaddress_field = new address_field();
 cnt.add( Iaddress_field, 0 );
 cnt.getLayout().removeLayoutComponent( Iaddress_field );
 Iaddress_field.setBounds( 121, 54, 43, 17 );
 Iinc_addr = new inc_addr();
 cnt.add( Iinc_addr, 0 );
 cnt.getLayout().removeLayoutComponent( Iinc_addr );
 Iinc_addr.setBounds( 3, 32, 47, 19 );
 Idec_addr = new dec_addr();
 cnt.add( Idec_addr, 0 );
 cnt.getLayout().removeLayoutComponent( Idec_addr );
 Idec_addr.setBounds( 3, 54, 47, 18 );
 Imem_set = new mem_set();
 cnt.add( Imem_set, 0 );
 cnt.getLayout().removeLayoutComponent( Imem_set );
 Imem_set.setBounds( 53, 33, 64, 39 );
 setContentPane( cnt );
 pack();
 addWindowListener( this );
 setVisible( true );
 GUI_created( this );
}
 public void windowActivated( WindowEvent e ){}
 public void windowClosed( WindowEvent e ){}
 public void windowClosing( WindowEvent e ){ GUI_closed(); }
 public void windowDeactivated( WindowEvent e ){}
 public void windowDeiconified( WindowEvent e ){}
 public void windowIconified( WindowEvent e ){}
 public void windowOpened( WindowEvent e ){}
}
</codetext>
</codeclip>
<ID_maker>47</ID_maker>
<height>567</height>
<レイアウト>CARD4コンソール
420
577
238
238
238
BUTTON;asm_button;assemble;3;3;102;27;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
BUTTON;run_button;run;113;4;68;27;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;1;JButton;
LABEL;LABEL2;R:;244;33;36;17;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
LABEL;LABEL3;A:;203;33;40;18;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
LABEL;LABEL4;C:;167;34;35;17;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
BUTTON;load_button;load;186;3;74;28;51;51;51;192;192;192;DejaVu Sans;12;null;0;0;1;0;1;JButton;
BUTTON;save_button;save;267;3;68;29;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
BUTTON;edit_button;edit;340;2;76;28;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
LABEL;LABEL8;D:;282;34;32;17;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
TEXTFIELD;r_field;000;246;53;33;19;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
TEXTFIELD;a_field;000;205;53;40;19;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
TEXTFIELD;c_field;00;165;53;38;18;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
TEXTFIELD;d_field;0;281;53;32;18;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
LABEL;pointer_label;POINTER;7;75;61;30;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;ret_label;RET;71;75;33;28;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;st_label;ST;110;76;35;27;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;ld_label;LD;149;75;32;29;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;ldh_label;LDH;185;75;38;30;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;ldm_label;LDM;228;74;37;29;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
LABEL;ldl_label;LDL;267;75;35;28;51;51;51;192;192;192;Dialog;12;null;0;0;1;1;0;JLabel;
TEXTAREA;message_area;null;7;141;408;432;51;51;51;255;255;255;Dialog;12;1;1;1;JTextArea;
BUTTON;single_button;1step;128;108;73;28;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
LABEL;LABEL24;CLOCK:;8;109;53;26;51;51;51;192;192;192;Dialog;12;null;2;0;1;0;0;JLabel;
TEXTFIELD;clock_field;0;66;108;58;30;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
LABEL;LABEL26;Memory Window;306;78;109;27;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
TEXTFIELD;start_field;000;308;109;106;27;51;51;51;255;255;255;Dialog;12;1;1;0;JTextField;
LABEL;LABEL33;interval time;204;107;94;15;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
LABEL;LABEL34;ms;275;123;26;12;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
TEXTFIELD;interval_field;1000;208;123;67;15;51;51;51;255;255;255;Dialog;8;1;1;0;JTextField;
LABEL;LABEL36;ADDR;122;35;41;17;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;0;JLabel;
TEXTFIELD;address_field;000;121;54;43;17;51;51;51;255;255;255;Dialog;12;1;1;1;JTextField;
BUTTON;inc_addr;+;3;32;47;19;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
BUTTON;dec_addr;-;3;54;47;18;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
BUTTON;mem_set;WRT;53;33;64;39;51;51;51;192;192;192;Dialog;12;null;0;0;1;0;1;JButton;
</レイアウト>
</aobject>
</xobject>
